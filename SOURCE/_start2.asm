;
; _start2.asm ... Startup for OS/2's 32bit native executable file.
;
	.386
	.MODEL FLAT ,OS_OS2


	INCL_DOS EQU 1
	INCLUDE	OS2.INC

	EXTERN DosExit:PROC
	EXTERN MAIN:PROC


CODE16	SEGMENT USE16 PUBLIC 'CODE'
CODE16	ENDS
CODE32	SEGMENT DWORD USE32 PUBLIC 'CODE'
CODE32	ENDS
DATA32	SEGMENT DWORD USE32 PUBLIC 'DATA'
DATA32	ENDS
CONST32	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST32	ENDS
BSS32	SEGMENT DWORD USE32 PUBLIC 'BSS'
BSS32	ENDS
DGROUP	GROUP CONST32, BSS32, DATA32

	ASSUME	CS:FLAT, DS:FLAT, SS:FLAT, ES:FLAT


	.DATA

DATA32	SEGMENT
DATA32	ENDS

BSS32	SEGMENT
BSS32	ENDS

CONST32	SEGMENT
CONST32	ENDS


	.CODE

CODE16	SEGMENT USE16
	.STARTUP
CODE16	ENDS

CODE32 SEGMENT
	CALL	MAIN
	PUSH	EAX
	PUSH	EXIT_PROCESS
;	MOV		AL,2
	CALL	DosExit
CODE32 ENDS


	.STACK


	END
